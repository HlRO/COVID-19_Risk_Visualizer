<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>COVID-19 extrapolation</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}">
        <script>
            function reload(){
                var country = document.getElementById('state').value;
                window.location = "?country=" + country;
            }
        </script>
    </head>
    <body>
        <div class='state_select simple'>
            <select id='state' onchange="reload()">
                <option value="">Select a contry...</option>
                {{ menu_items | safe }}
            </select>
        </div>

        <p class='state'>{{ country }}</p>

        <p class='stats'>{{ date }}, Total: {{ current_total }}, Growth rate: <span class='{{ change }}'>{{ rate }}% per day</span></p>

        <p class='sentence'>If the growth rate stays the same as the last 7 days</p>

        <div class='cards'>
            <!-- one in 500 -->
            <div class='card'>
                <div class='visual_info'>
                    <div class='days'>
                        <p class='digits'>{{ time_1_per_500}}</p>
                        <p class='days'>days</p>
                    </div>
                    <img src="{{url_for('static', filename='1_per_500.png')}}">
                </div>
                <p class='sentence'>One in 500 will be infected</p>
            </div>

            <!-- one in 3 -->
            <div class='card'>
                <div class='visual_info'>
                    <div class='days'>
                        <p class='digits'>{{ time_1_per_3}}</p>
                        <p class='days'>days</p>
                    </div>
                    <img src="{{url_for('static', filename='1_per_3.png')}}">
                </div>
                <p class='sentence'>One in 3 will be infected</p>
            </div>

            <!-- everyone -->
            <div class='card'>
                <div class='visual_info'>
                    <div class='days'>
                        <p class='digits'>{{ time_everyone}}</p>
                        <p class='days'>days</p>
                    </div>
                    <img src="{{url_for('static', filename='everyone.png')}}">
                </div>
                <p class='sentence'>Everyone will be infected</p>
            </div>

            <!-- hospital beds -->
            <div class='card'>
                <div class='visual_info'>
                    <div class='days'>
                        <p class='digits'>{{ time_no_bed}}</p>
                        <p class='days'>days</p>
                    </div>
                    <img src="{{url_for('static', filename='hospital_bed.png')}}">
                </div>
                <p class='sentence'>Total cases will be more than hospital beds</p>
            </div>
        </div>

        <p class='sentence'>
        <span class='emphasis red'>You can change this future</span><br>
        <span class='emphasis'>STAY AT HOME</span><br>
        <span class='emphasis'>WASH YOUR HANDS</span><br>
        </p>

        <hr class='dotted'>

        <div>
            <p class='appendix title'>Data source</p>
            {{ data_source | safe }}
            <p class='appendix title'>How it's calculated</p>
            <p class='appendix sentence'>Precise estimation is not my goal,<br>I want to change the predicted future instead.</p>
            <p class='appendix sentence'>Simple extrapolation is used for the estimations.</p>
            <p class='appendix sentence'>1) Extract the number of cases for the last 7 days.</p>
            <p class='appendix sentence'>2) Calculate the growth ratio by applying a linear regression in log space.</p>
            <p class='appendix sentence'>3) Extrapolate the numbers using the rate.</p>
            <p class='appendix sentence'>Recovery population is not taken into account.</p>
            <p class='appendix sentence'>The number of hospital beds is NOT a live update.</p>
        </div>
    </body>
</html>
